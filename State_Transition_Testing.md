# 🔄 اختبار الانتقال بين الحالات (State Transition Testing)

## 🎯 ما هو State Transition Testing؟
هو نوع من **اختبارات الصندوق الأسود (Black Box Testing)**  
بيفحص **كيف يتغير سلوك النظام لما تتغير المدخلات (inputs)**.

## 💡 ليش State Transition Testing يعتبر نوع من انواع Black Box Testing؟

لأن **State Transition Testing** بيركّز فقط على:
1. الحالات اللي ممكن النظام يكون فيها (States)
2. التغيرات اللي بتصير لما المستخدم يدخل بيانات أو يعمل حدث (Events)
3. النتيجة اللي بيعرضها النظام (Outputs)

👀 لاحظ:  
إنت ما بتدخل على الكود تشوف "كيف" المبرمج كتب الانتقال من حالة لأخرى،  
إنت بس بتختبر **النتيجة الظاهرة للنظام** لما تغيّر المدخل.

الفكرة:
> لما تغيّر المدخل، النظام ممكن "ينتقل" من حالة (State) إلى حالة جديدة.

🧩 **يعني:**  
النظام دايمًا بيكون في "حالة" (مثل: تسجيل دخول، قفل الحساب، الخ)،  
وكل حدث (Event) بيخليه "ينتقل" لحالة جديدة.

---

## 💡 مثال بسيط:

تخيل عندك **ATM (ماكينة صراف)**  
إذا دخلت الرقم السري صح → بتدخل على حسابك  
إذا غلطت مرة → بيعطيك فرصة ثانية  
إذا غلطت 3 مرات → بيتقفل حسابك

## 💡 مثال 2:

تخيل عندك زر **Submit** ما بتفعل الا لما تعبي كل الخيرات الي مطلوبة خاصة **الإجبارية**

هاي الحالات اسمها **States**،  
والانتقالات بينهم (من حالة لأخرى) اسمها **Transitions**.

---

## ⚙️ متى نستخدم State Transition Testing؟

نستخدمه لما:
1. النظام عنده عدد محدود من الحالات (Finite States).  
2. السلوك الحالي يعتمد على **الأحداث السابقة**.  
3. بدنا نفحص تسلسل الأحداث (Sequence of Inputs).  

🔹 **مثال:**  
الـATM أو شاشة تسجيل دخول تسمح بعدد محاولات محدودة — هدول أنظمة فيها "انتقال بين حالات".

---

## 🚫 متى ما بنستخدمه؟
- لما النظام ما يعتمد على تسلسل الأحداث (يعني كل إدخال مستقل).  
- أو لما بنعمل اختبار استكشافي (Exploratory Testing).

---

## 🧱 مكونات State Transition Model

| العنصر | الوصف |
|--------|--------|
| **States (الحالات)** | المراحل اللي ممكن النظام يكون فيها (مثل: Start، Logged in، Locked) |
| **Transitions (الانتقالات)** | التغيير من حالة لأخرى بناءً على حدث |
| **Events (الأحداث)** | الأشياء اللي بتحصل وتسبب انتقال (مثل: "إدخال الرقم السري") |
| **Actions (الأفعال)** | النتيجة اللي بتصير بعد الانتقال (مثل: "إظهار رسالة خطأ" أو "فتح الحساب") |

---

## 🧭 طرق تمثيل الاختبار

في طريقتين رئيسيتين:

### 1️⃣ State Transition Diagram (الرسم البياني)
- المربعات تمثل **الحالات (States)**.  
- الأسهم تمثل **الانتقالات (Transitions)**.  
- بيُستخدم لمعرفة **الانتقالات الصحيحة (Valid Transitions)**.

### 2️⃣ State Transition Table (الجدول)
- الحالات بالصفوف،  
- والأحداث بالأعمدة.  
- كل خلية بتوضح الحالة الجديدة بعد وقوع الحدث.  
- بيُستخدم لمعرفة **الانتقالات الخاطئة (Invalid Transitions)**.

---

## 💳 مثال عملي (ATM System)

السيناريو:
> إذا المستخدم دخل رقم سري غلط 3 مرات → الحساب يُقفل  
> إذا دخل الرقم الصح بأي محاولة قبل الثالثة → يتم الدخول بنجاح

### 🔹 الرسم البياني (State Transition Diagram):

