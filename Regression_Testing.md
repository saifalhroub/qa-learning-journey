# 🧩 Regression Testing  
**المصدر:** [Guru99 – Regression Testing](https://www.guru99.com/regression-testing.html)  
**تاريخ التحديث:** 13 مايو 2025  
**بواسطة:** Thomas Hamilton  
**مراجعة:** Yumani Ranaweera  

---

## 🧠 ما هو اختبار الـ Regression Testing؟

**اختبار الانحدار (Regression Testing)** هو نوع من أنواع اختبارات البرمجيات يهدف إلى **التأكد أن التعديلات أو التحديثات الجديدة في الكود لم تؤثر سلبًا على الوظائف القديمة** في النظام.  

ببساطة: بعد ما يضيف المطور ميزة جديدة أو يصلّح خطأ (Bug Fix)، نقوم بتكرار بعض الاختبارات القديمة حتى نضمن أن كل شيء لا يزال يعمل كما كان.  

> يعني كأنك تغيّر قطعة في سيارة، فترجع تشغّلها وتتأكد أن الفرامل والأنوار والمحرك ما تأثروا من التغيير.

---

## 🎯 لماذا نستخدم Regression Testing؟

التطوير المستمر للبرمجيات (مثل إضافة ميزات أو تصحيح أخطاء) ممكن يسبب مشاكل غير مباشرة في أجزاء أخرى من النظام.  
اختبار الانحدار موجود لتجنب هالشي، فهو:  

- يمنع ظهور أخطاء جانبية (Side Effects).  
- يقلل التكاليف الناتجة عن الأخطاء المتأخرة.  
- يحافظ على **جودة واستقرار البرنامج** بعد أي تعديل.  
- يزيد ثقة فريق العمل بأن النظام ثابت ومتين بعد التعديلات.  

---

## 🕒 متى نُجري اختبار الانحدار؟

يُنفَّذ اختبار Regression في الحالات التالية:

1. **إضافة وظيفة جديدة** إلى النظام.  
2. **تعديل أو تحسين في المتطلبات.**  
3. **بعد إصلاح خلل (Bug Fix).**  
4. **بعد تحسين الأداء أو تعديل في قاعدة البيانات.**  
5. **عند دمج النظام مع نظام خارجي جديد.**  

---

## 🧩 خطوات تنفيذ Regression Testing

قبل البدء بالاختبار، فريق الـ QA يعمل بعض الخطوات:

1. التواصل مع فريق التطوير لفهم **الأجزاء المعدلة من الكود**.  
2. تحديد **الوظائف التي قد تتأثر بالتغييرات**.  
3. اختيار **مجموعة من الحالات الاختبارية (Test Cases)** المناسبة لإعادة تنفيذها.  
4. تنفيذ الاختبارات يدويًا أو آليًا (Automation).  
5. تحليل النتائج وتوثيق أي أخطاء جديدة تظهر.

---

## 🧪 تقنيات اختبار الانحدار

### 1. Retest All  
إعادة تنفيذ **جميع الاختبارات السابقة** بدون استثناء.  
دقيق جدًا لكنه **مكلف جدًا** من حيث الوقت والموارد.

### 2. Regression Test Selection  
اختيار **مجموعة محددة من الاختبارات** من بين الاختبارات القديمة، تركز على المناطق المتأثرة بالتغيير فقط.  
يوجد نوعان من الحالات:
- **Reusable:** يمكن استخدامها في اختبارات لاحقة.  
- **Obsolete:** لم تعد صالحة للاستخدام بسبب تغييرات جذرية.

### 3. Test Case Prioritization  
تحديد **الأولوية** للاختبارات حسب:
- مدى تأثير الميزة على العمل.  
- حساسية الوظيفة للمستخدم.  
- عدد المرات اللي يتم استخدامها.  

> الفكرة هي اختبار الأكثر أهمية أولاً لتوفير الوقت والجهد.

---

## 🧱 اختيار الحالات المناسبة للاختبار

عشان تكون اختبارات الانحدار فعالة، لازم نختار الحالات التالية:

- الحالات الخاصة بالوظائف اللي تتغير كثيرًا.  
- الوظائف اللي بيشوفها المستخدم مباشرة (واجهات أو عمليات أساسية).  
- الحالات اللي تختبر المزايا الجوهرية للنظام.  
- الحالات المعقدة أو اللي تعتمد على أكثر من موديول.  
- حالات الـ **Integration Tests** (تكامل الأنظمة).  
- الحالات اللي تتعامل مع حدود القيم (Boundary Testing).  
- حالات النجاح الأساسية (Happy Path) وأيضًا الحالات السلبية.

---

## ⚙️ أدوات Regression Testing

بما أن التغييرات في الأنظمة كثيرة ومتكررة، فغالبًا يتم **أتمتة الاختبارات (Automation)** لتوفير الوقت.  
من أهم الأدوات:

- **testRigor:** يتيح كتابة حالات اختبار بلغة إنجليزية طبيعية.  
- **Selenium:** أشهر أداة مفتوحة المصدر لاختبار تطبيقات الويب.  
- **QTP (UFT):** من HP، تستخدم لغة VBScript، مناسبة لاختبارات الوظائف والانحدار.  
- **Rational Functional Tester (RFT):** أداة من IBM تعتمد على Java وتتكامل مع Rational Test Manager.

---

## 🔍 أنواع اختبار الانحدار (Regression Testing Types)

### 1. Unit Regression Testing  
اختبار جزء صغير محدد فقط تم تعديله، بدون النظر للتأثير العام.  
**مثال:** إصلاح خطأ في تسجيل الدخول، نتحقق فقط من شاشة الدخول.

### 2. Regional Regression Testing  
نختبر الجزء المعدل بالإضافة إلى المناطق اللي قد تتأثر به.  
**مثال:** تعديل في موديول B قد يؤثر على A و C، لذا نختبر الثلاثة.

### 3. Full Regression Testing  
نُعيد اختبار النظام بالكامل بعد تغييرات كبيرة أو قبل الإطلاق النهائي.

### 4. Corrective Regression Testing  
يُجرى عندما **ما صار تعديل فعلي بالكود**، فقط للتحقق من الثبات باستخدام نفس الحالات القديمة.

### 5. Retest All Regression Testing  
نعيد تنفيذ كل الحالات من البداية للنهاية. نستخدمها لما الطرق الأخرى ما تعطي نتيجة كافية.

### 6. Selective Regression Testing  
اختبار مجموعة صغيرة من الحالات التي تمس الكود الجديد مباشرة فقط.

### 7. Progressive Regression Testing  
نستخدمها لما نضيف ميزات جديدة مع إنشاء حالات اختبار جديدة. الهدف: التأكد أن الإصدارات القديمة ما تأثرت.

### 8. Partial Regression Testing  
اختبار جزئي يركز على الأجزاء المتأثرة فقط لتوفير الوقت بدل إعادة اختبار النظام كله.

---

## 🤖 الاختبار الآلي (Automated Regression Testing)

يُستخدم لما يكون النظام كبير أو فيه تحديثات متكررة.  
الفكرة: نكتب سكربتات آلية تنفذ كل الحالات المطلوبة وتظهر النتائج تلقائيًا.

### خطوات التنفيذ:

1. يحدد فريق الاختبار اليدوي المناطق المتأثرة.  
2. يُرسل قائمة الحالات لفريق الأتمتة.  
3. يكتب فريق الأتمتة سكربتات آلية لتلك الحالات.  
4. تُنفَّذ السكربتات بعد كل تعديل أو إصدار جديد.  
5. تُراجع النتائج، وإذا فشلت حالة معينة، يتم التحقق يدويًا منها.

**مزايا الأتمتة في الـ Regression Testing:**
- اختبارات قابلة لإعادة الاستخدام.  
- دقة عالية بدون تدخل بشري.  
- سرعة في التنفيذ.  
- تنفيذ متوازي لعدة حالات.  
- لا تحتاج موارد إضافية بعد إعدادها.

---

## ⚖️ الفرق بين Retesting و Regression Testing

| المقارنة | 🔁 Retesting | 🔄 Regression Testing |
|-----------|--------------|-----------------------|
| **الهدف** | التأكد من إصلاح العطل | التأكد من أن الإصلاح لم يؤثر على وظائف أخرى |
| **التركيز** | اختبار العطل نفسه فقط | اختبار أجزاء أخرى قد تتأثر |
| **الاعتماد على الحالات** | للحالات الفاشلة فقط | للحالات الناجحة السابقة |
| **الإلزامية** | تُنفّذ فقط عند وجود عطل | تُنفّذ دائمًا بعد أي تعديل |
| **الإمكانية الآلية** | غالبًا يدوي | يمكن أتمتته بسهولة |
| **الأولوية** | عالية لأنها تتعامل مع عطل معروف | أقل، لأنها اختبار شامل |
| **الزمن** | أقل وقتًا | أطول بسبب اتساع النطاق |

---

## 🧱 أفضل ممارسات Regression Testing

- **أتمتة الاختبارات قدر الإمكان** لتسريع العملية.  
- **دمج الاختبارات مع أنظمة CI/CD** مثل Jenkins لتعمل تلقائيًا مع كل تعديل في الكود.  
- **اختيار الحالات الأساسية بعناية** بدل إعادة كل شيء كل مرة.  
- **تنفيذ الاختبارات بشكل دوري** بعد كل تحديث أو إصدار.  
- **إدارة بيانات الاختبار والبيئة بعناية** لتكون النتائج دقيقة.  
- **توثيق الأخطاء ومتابعتها** حتى الإصلاح النهائي.  
- **الاعتماد على أدوات إدارة الإصدارات (Configuration Management)** لتتبع التغييرات في الكود.

---

## 🧩 مثال عملي – Amazon

تخيل أن **Amazon** أضافت قسم جديد للمنتجات يسمى *“Smart Home Devices”*.  
قبل الإطلاق، يُجرى اختبار Regression للتأكد أن:

- الصفحة الرئيسية ما تعطلت بعد الإضافة.  
- البحث ما خربط النتائج بين الأقسام.  
- الدفع والعمليات الحسابية شغالة.  
- الموقع ما تأثر من حيث الأداء أو المظهر.  

لو فشل أي اختبار من هذول، يعني أن التعديل الجديد أثّر على النظام القديم — وهون تظهر أهمية اختبار الانحدار.

---

## 🏁 الخلاصة

اختبار **Regression** هو صمّام الأمان لأي تطبيق يتطور باستمرار.  
هو الذي **يضمن بقاء النظام مستقر بعد التعديلات**،  
ويمنع الانهيارات المفاجئة اللي بتكلف وقت وسمعة وملايين.

> ببساطة: "اختبار Regression يعني أنك تتأكد أن الجديد لم يُفسد القديم."  
هو ما يجعل البرمجيات تتطور بثقة، مش بخوف.

---

